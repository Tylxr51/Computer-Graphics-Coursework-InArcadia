<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Arcade</title>
    <style>
      #main-menu {
        width: 100%;
        height: 100%;

        display: none;
        position: absolute;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;

        background-color: rgba(0,0,0,1);
      }

      #settings-menu {
        width: 100%;
        height: 100%;

        display: none;
        position: absolute;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;

        background-color: rgba(0,0,0,1);
      }

      #levels-menu {
        width: 100%;
        height: 100%;

        display: none;
        position: absolute;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;

        background-color: rgba(0,0,0,1);
      }

      #instructions-menu {
        width: 100%;
        height: 100%;

        display: none;
        position: absolute;
        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;

        background-color: rgba(0,0,0,0.7);
      }

      #paused-menu {
        display: none;
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.7);

        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;
      }

      #dead-menu {
        display: none;
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 84, 84, 0.7);

        flex-direction: column;
        justify-content: center;
        align-items: center;

        text-align: center;
        font-size: 14px;
        color: white;
        cursor: pointer;
      }

      /* hud container */
      .hud {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
      }

      /* outer progress ring ( circle to be cut-out from ) */
      .dash-progress {
        opacity: 0;
        --size: 40px;
        --thickness: 4px;
        --progress: 0;
        --progress-bar-color: #68ef93;

        width: var(--size);
        height: var(--size);
        border-radius: 50%;

        background:
          conic-gradient(

            var(--progress-bar-color) 0% calc(var(--progress) * 1%),
            rgba(255, 255, 255, 0.15) calc(var(--progress) * 1%) 100%

          );

        display: grid;
        place-items: center;
      }

      /* inner circle ( cut-out to make it a ring not a circle ) */
      .dash-progress::before {
        content: "";
        width: calc(var(--size) - var(--thickness) * 2);
        height: calc(var(--size) - var(--thickness) * 2);
        background: rgba(0, 0, 0, 0.7);
        border-radius: 50%;
      }

      /* center text */
      .dash-text {
        position: absolute;
        font-size: 10px;
        color: white;
        font-family: monospace;
        pointer-events: none;
      }

    </style>
  </head>
  <body>

    <script src="js/globalVariables.js" type="text/javascript"></script>
    <script src="shaders/vertex-shader.glsl" type="x-shader/x-vertex"></script>
    <script src="shaders/fragment-shader.glsl" type="x-shader/x-fragment"></script>
    <script src="three.js-r170/examples/jsm/libs/ammo.wasm.js"></script>

    <div id="main-menu">
        <p style="font-size:36px">
            Main Menu
        </p>
        <p>
          <button id="levels-button" class="btn">Levels</button>
          <br></br>
          <button id="settings-button" class="btn">Settings</button>
        </p>
    </div>

    <div id="settings-menu">
        <p style="font-size:36px">
            Settings
        </p>

          <button id="toggle-sprint-button" class="btn">Toggle Sprint</button>
          <div id="toggle-sprint-value">
            <script type="text/javascript">
              document.write(toggleSprint);
            </script>
          </div>

          <button id="stationary-is-toggle-button" class="btn">Stationary is Toggle</button>
          <p style='color:grey'>
            (turns off sprinting when you stop moving)
          </p>
          <div id="stationary-is-toggle-value">
            <script type="text/javascript">
              document.write(stationaryIsToggle);
            </script>
          </div>

          <button id="is-flicker-on-button" class="btn">Flicker</button>
          <div id="is-flicker-on-value">
            <script type="text/javascript">
              document.write(isFlickerOn);
            </script>
          </div>
          <p style='color:grey'>
            (turns off screen flicker effect)
          </p>
        <p>
          <button id="settings-back-button" class="btn">Back</button>
        </p>
    </div>

    <div id="levels-menu">
        <p style="font-size:36px">
            Levels
        </p>

        <p>
          <button id="level-0-button" class="btn">Level 0 (Tutorial)</button>
          <br></br>
          <button id="level-1-button" class="btn">Level 1</button>
        </p>
        
        <p>
          <button id="levels-back-button" class="btn">Back</button>
        </p>
    </div>

    <div id="instructions-menu">
        <p style="font-size:36px">
            Click to play
        </p>
        <p>
            Move: WASD<br/>
            Jump: SPACE<br/>
            Look: MOUSE
        </p>
    </div>

    <div id="paused-menu">
        <p style="font-size:36px">
            Paused
        </p>
        <br></br>
        <button id="resume-button" class="btn">Resume</button>
        <br>
          <div id="resume-status">
            <!-- menu will write 'Resuming...' here when resume button is clicked -->
          </div>
        </br>
        <button id="exit-game-paused-button" class="btn">Main Menu</button>
    </div>

    <div id="dead-menu">
        <p style="font-size:36px">
            You died :/
        </p>
        <br></br>
        <button id="respawn-button" class="btn">Respawn</button>
        <br></br>
        <button id="exit-game-dead-button" class="btn">Main Menu</button>
        
    </div>


    <div class="hud">
      <div class="dash-progress">
        <span class="dash-text"> dash </span>
      </div>
    </div>
  


    <script type="importmap"> {
        "imports": {
            "three": "/three.js-r170/build/three.module.js",
            "three/addons/": "/three.js-r170/examples/jsm/"
            } 
        } 
    </script>
    
    <script src="js/objectSpawner.js" type="module"></script>
    <script src="js/buildWorld.js" type="module"></script>
    <script src="js/player.js" type="module"></script>
    <script src="js/menus.js" type="module"></script>
    <script src="js/levelEnvironment.js" type="module"></script>
    <script src="js/main.js" type="module"></script>

</body>
</html>